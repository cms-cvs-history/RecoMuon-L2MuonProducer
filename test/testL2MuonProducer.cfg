process L2MuonProduction = {
    
# Event source
    source = PoolSource{
	untracked vstring fileNames ={'file:/afs/cern.ch/cms/Tutorials/july06/MuonReconstruction/MuonRecHit.root'}
	untracked int32 maxEvents = -1
	untracked uint32 debugVebosity = 10
	untracked bool   debugFlag     = true
    }

# Messages
    service = MessageLogger {
	untracked vstring destinations = { "cout" }
	untracked PSet cout = {
	    untracked bool noLineBreaks = true 
	    untracked string threshold = "INFO"
	}
    }
    
# Magnetic Field
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    
# Geometries
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi" 
    include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/CSCGeometry/data/cscGeometry.cfi"
    include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
    include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"

# Seed generator
    include "RecoMuon/L2MuonSeedGenerator/data/L2MuonSeeds.cfi"

# L2 muon producer
    include "RecoMuon/L2MuonProducer/data/L2Muons.cff"
    
# Create the RecoChargedCandidateCollection
    include "RecoMuon/L2MuonProducer/data/L2MuonCandidates.cff"

# Output
    module out = PoolOutputModule {
	untracked string fileName ="STAMuons.root"
    }

# Path
    path p = {L2MuonSeeds,L2Muons,L2MuonCandidates}
    endpath this_is_the_end = {out}
}
